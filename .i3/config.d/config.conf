## comments for keybindings indicate keys on two layouts:
## (de neo)[de nodeadkeys]

set $fonttype "pango:monofur for Powerline, FontAwesome 11"
font $fonttype
set $dmenufonttype monofurforPowerline-11

# Displays
set $DISP0 DP-0
set $DISP1 DP-3
set $DISP2 DP-0


new_window normal 2
new_float normal 2

# Use Super+Mouse to drag floating windows to their wanted position
floating_modifier Mod4

# default mode
workspace_layout stacked

# default orientation
default_orientation vertical

# automatic workspace back and forth
workspace_auto_back_and_forth yes

# hide outer borders
#hide_edge_borders vertical

# keep focus within current container 
force_focus_wrapping yes

# disable auto focus
#focus_follows_mouse no

### KEYBOARD COMMANDS ###

# split and mark (Super+v/h)[Super+w/u]
bindcode Mod4+25 split vertical; mark --add lastsplit
bindcode Mod4+30 split horizontal; mark --add lastsplit

# Fullscreen (Super+o)[Super+f]
bindcode Mod4+32 fullscreen toggle

# Global Fullscreen (Super+Shift+f)[Super+Shift+o]
bindcode Mod4+Shift+32 fullscreen toggle global

# Stacking (Super+,)[Super+,]
bindcode Mod4+59 layout stacking

# Tabbed (Super+j)[Super+-]
bindcode Mod4+61 layout tabbed

# Vertical Split (Super+.)[Super+.]
bindcode Mod4+60 layout splitv
# Toggle Split (Super+Shift+.)[Super+Shift+.]
bindcode Mod4+Shift+60 layout toggle split

# Toggle tiling/floating of the current window (Super+Shift+Space)[Super+Shift+Space]
bindcode Mod4+Shift+65 floating toggle

# Toggle sticky status of the current window (Super+Alt+Space)[Super+Alt+Space]
bindcode Mod4+Mod1+65 sticky toggle

# Go into the tiling layer / floating layer, depending on whether
# the current window is tiling / floating (Super+Space)[Super+Space]
bindcode Mod4+65 focus mode_toggle

# Focus latest urgent windows (Super+u)[Super+a]
bindcode Mod4+38 [urgent="latest"] focus
# Focus latest urgent windows (Super+Shift+u)[Super+Shift+a]
bindcode Mod4+Shift+38 [urgent="oldest"] focus

# Focus parent (Super+q)[Super+p]
bindcode Mod4+33 focus parent
# Focus child (Super+d)[Super+ö]
bindcode Mod4+47 focus child

# Focus (Super+g/n/r/t)[Super+i/j/k/l]
bindcode Mod4+31 focus up
bindcode Mod4+44 focus left
bindcode Mod4+45 focus down
bindcode Mod4+46 focus right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Up focus up
bindsym Mod4+Left focus left
bindsym Mod4+Down focus down
bindsym Mod4+Right focus right

# Focus window outside of current container (Super+Alt+g/n/r/t)[Super+Alt+i/j/k/l]
bindcode Mod4+Mod1+31 focus parent; focus up; focus child
bindcode Mod4+Mod1+44 focus parent; focus left; focus child
bindcode Mod4+Mod1+45 focus parent; focus down; focus child
bindcode Mod4+Mod1+46 focus parent; focus right; focus child
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Mod1+Up focus parent; focus up; focus child
bindsym Mod4+Mod1+Left focus parent; focus left; focus child
bindsym Mod4+Mod1+Down focus parent; focus down; focus child
bindsym Mod4+Mod1+Right focus parent; focus right; focus child

# Switch through outputs (Super+^)[Super+^]
bindcode Mod4+49 focus output right
bindcode Mod4+Shift+49 focus output left
# move to left or right output (Super+Control+n/t)[Super+Control+j/l]
bindcode Mod4+Control+44 move output left
bindcode Mod4+Control+46 move output right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Control+Left move output left
bindsym Mod4+Control+Right move output right

# Direct access to outputs (Super+i/a/e)[Super+s/d/f]
bindcode Mod4+39 focus output $DISP2
bindcode Mod4+40 focus output $DISP0
bindcode Mod4+41 focus output $DISP1
# Move container to specific output (Super+Shift+i/a/e)[Super+Shift+s/d/f]
bindcode Mod4+Shift+39 move container to output $DISP2
bindcode Mod4+Shift+40 move container to output $DISP0
bindcode Mod4+Shift+41 move container to output $DISP1
# Move workspace to specific output (Super+Alt+i/a/e)[Super+Alt+s/d/f]
bindcode Mod4+Mod1+39 move workspace to output $DISP2
bindcode Mod4+Mod1+40 move workspace to output $DISP0
bindcode Mod4+Mod1+41 move workspace to output $DISP1

# Move (Super+Shift+g/n/r/t)[Super+Shift+i/j/k/l]
bindcode Mod4+Shift+31 move up
bindcode Mod4+Shift+44 move left
bindcode Mod4+Shift+45 move down
bindcode Mod4+Shift+46 move right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Shift+Up move up
bindsym Mod4+Shift+Left move left
bindsym Mod4+Shift+Down move down
bindsym Mod4+Shift+Right move right

# Move Container (Super+Alt+Shift+g/n/r/t)[Super+Alt+Shift+i/j/k/l]
bindcode Mod4+Mod1+Shift+31 focus parent; move up; focus child
bindcode Mod4+Mod1+Shift+44 focus parent; move left; focus child
bindcode Mod4+Mod1+Shift+45 focus parent; move down; focus child
bindcode Mod4+Mod1+Shift+46 focus parent; move right; focus child
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Mod1+Shift+Up focus parent; move up; focus child
bindsym Mod4+Mod1+Shift+Left focus parent; move left; focus child
bindsym Mod4+Mod1+Shift+Down focus parent; move down; focus child
bindsym Mod4+Mod1+Shift+Right focus parent; move right; focus child

# Scratchpad create (Super+Shift+ü)[Super+Shift+y]
bindcode Mod4+Shift+52 move scratchpad
# Scratchpad show (Super+ü)[Super+y]
bindcode Mod4+52 scratchpad show

# Move the current winow to where the last split was made (Super+Shift+m)[Super+Shift+m]
bindcode Mod4+57 move window to mark lastsplit

# Mode which deaktivates all bindings
set $mode_passthrough "passthrough"
mode $mode_passthrough {
    bindcode Mod4+9 mode "default"
}
# Enter passthrough mode (Super+Escape)[Super+Escape]
bindcode Mod4+9 mode $mode_passthrough; exec sh -c 'sleep 2 && i3-msg mode "default"'

# Marks and Gotos for special keys on the MSNEK4000
bindcode Mod4+192 mark Fav1
bindcode 192 [con_mark="Fav1"] focus
bindcode Mod4+193 mark Fav2
bindcode 193 [con_mark="Fav2"] focus
bindcode Mod4+194 mark Fav3
bindcode 194 [con_mark="Fav3"] focus
bindcode Mod4+195 mark Fav4
bindcode 195 [con_mark="Fav4"] focus
bindcode Mod4+196 mark Fav5
bindcode 196 [con_mark="Fav5"] focus
bindcode Mod4+180 mark Browser
bindcode 180 [con_mark="Browser"] focus
bindcode Mod4+225 mark Search
bindcode 225 [con_mark="Search"] focus
bindcode Mod4+163 mark Mail
bindcode 163 [con_mark="Mail"] focus
bindcode Mod4+164 mark Star
bindcode 164 [con_mark="Star"] focus

# Read 1 character and mark the current window with this character (Super+Shift+m)[Super+Shift+m]
bindcode Mod4+Shift+58 exec --no-startup-id i3-input -F 'mark %s ' -l 1 -P 'Mark: '

# Read 1 character and go to the window with the character (Super+m)[Super+m]
bindcode Mod4+58 exec --no-startup-id i3-input -F '[con_mark="%s"] focus' -l 1 -P 'Goto: '

# Go to/create workspace with arbitrary name (Super+w)[Super+t]
bindcode Mod4+28 exec --no-startup-id "rofi -modi 'Workspace:i3wslist.sh,Move to Workspace:i3wsmove.sh' -show Workspace"
# Move to workspace with arbitrary name (Super+Shift+w)[Super+Shift+t]
bindcode Mod4+Shift+28 exec --no-startup-id "rofi -modi 'Workspace:i3wslist.sh,Move to Workspace:i3wsmove.sh' -show 'Move to Workspace'"

# Run arbitrary i3 command (Super+Alt+Return)[Super+Alt+Return]
bindcode Mod4+Mod1+36 exec ~/bin/i3_run -fn "$dmenufonttype" -nb "$c_dark_blue" -nf "$c_white" -sb "$c_neutral_blue" -sf "$c_black" -p "i3-msg"

# Open termite (Super+Return)[Super+Return]
bindcode Mod4+36 exec /usr/bin/termite
# Open termite with role "floating" (Super+Control+Return)[Super+Control+Return]
bindcode Mod4+Control+36 exec /usr/bin/termite --role floating
# Open roxterm (Super+Shift+Return)[Super+Shift+Return]
bindcode Mod4+Shift+36 exec /usr/bin/roxterm

# Lock screen (Super+l)[Super+e]
bindcode Mod4+26 exec --no-startup-id "xautolock -locknow; xautolock -enable ; sleep 1; xautolock -locknow"
# Toggle automatic screenlock (Super+Shift+l)[Super+Shift+e]
bindcode Mod4+Shift+26 exec --no-startup-id xautolock -toggle

# Start dmenu application launcher (Super+Shift+p)[Super+Shift+ v]
bindcode Mod4+Shift+55 exec --no-startup-id ~/bin/emenu_run -fn "$dmenufonttype" -nb "$c_dark_grey" -nf "$c_bright_grey" -sb "$c_neutral_blue" -sf "$c_black" -p ">>>"

# Start rofi (Super+p)[Super+v]
bindcode Mod4+55 exec --no-startup-id rofi -show run
# Start rofi (Super+ä)[Super+c]
bindcode Mod4+54 exec --no-startup-id rofi -show ssh
# Start rofi (Super+ö)[Super+x]
bindcode Mod4+53 exec --no-startup-id rofi -show window

# Open shutdown menu (Super+Shift+F12)[Super+Shift+F12]
bindcode Mod4+Shift+96 exec --no-startup-id ~/bin/Shutdown.sh

# Sort windows by name (https://faq.i3wm.org/question/3189/how-can-i-sort-windows-inside-a-container-automatically/) (Super+Shift+s)[Super+Shift+h]
bindcode Mod4+Shift+43 exec --no-startup-id python ~/bin/i3/sortcontainer.py

# Toggle Mute, LowerVol, RaiseVol XF86Audio{Mute,LowerVolume,RaiseVolume} or Mod4+{End,Prior,Next} [Pulseaudio]
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && killall -SIGUSR1 i3status
# (Super+End)[Super+End]
bindcode Mod4+115 exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && killall -SIGUSR1 i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5% && killall -SIGUSR1 i3status
# (Super+PgDown)[Super+PgDown]
bindcode Mod4+117 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5% && killall -SIGUSR1 i3status
bindsym Shift+XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -1% && killall -SIGUSR1 i3status
# (Super+Shift+PgDown)[Super+Shift+PgDown]
bindcode Mod4+Shift+117 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -1% && killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5% && killall -SIGUSR1 i3status
# (Super+PgUp)[Super+PgUp]
bindcode Mod4+112 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5% && killall -SIGUSR1 i3status
bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +1% && killall -SIGUSR1 i3status
# (Super+Shift+PgUp)[Super+Shift+PgUp]
bindcode Mod4+Shift+112 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +1% && killall -SIGUSR1 i3status

# clementine Remote control
#bindsym XF86AudioPlay exec clementine_CTRL.py pause
#bindsym Shift+XF86AudioPlay exec clementine_CTRL.py stop
#bindsym Control+XF86AudioPlay exec clementine_CTRL.py osd
#bindsym Control+XF86AudioRaiseVolume exec clementine_CTRL.py next
#bindsym Control+XF86AudioLowerVolume exec clementine_CTRL.py previous

# start zcalc in a terminal
bindcode 148 exec ~/bin/tzcalc

# switch keyboard layout to neo on MNEK4000 (Super+KP_()[Super+KP_(]
bindcode 187 exec ~/bin/asdf

# switch keyboard layout to de on MNEK4000 (Super+KP_))[Super+KP_)]
bindcode 188 exec ~/bin/uiae

# place mouse cursor in upper left corner of the window (Super+x)[Super+q]
bindcode Mod4+24 exec xdotool getactivewindow mousemove -w '%1' 0 0

# Kill current client(s) (Super+Shift+c)[Super+Shift+r]
bindcode Mod4+Shift+27 kill

# Reload configuration (Super+Backspace)[Super+Backspace]
bindcode Mod4+22 reload


# Restart i3 in place (Super+Control+Backspace)[Super+Control+Backspace]
bindcode Mod4+Control+22 restart

# Exit i3 (Super+Control+Shift+Backspace)[Super+Control+Shift+Backspace]
bindcode Mod4+Control+Shift+22 exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit' -f '$dmenufonttype'"

#### WORKSPACE SETTINGS ####

# Workspace assignment to displays
workspace $ws1 output $DISP0
workspace $ws2 output $DISP0
workspace $ws3 output $DISP0
workspace $ws4 output $DISP0
workspace $ws5 output $DISP0
workspace $ws6 output $DISP0
workspace $ws11 output $DISP0
workspace $ws12 output $DISP0
workspace $ws13 output $DISP0
workspace $ws14 output $DISP0
workspace $ws15 output $DISP0
workspace $ws16 output $DISP0
workspace $wsh output $DISP0

workspace $ws7 output $DISP1
workspace $ws8 output $DISP1
workspace $ws9 output $DISP1
workspace $ws10 output $DISP1
workspace $ws21 output $DISP1
workspace $ws22 output $DISP1
workspace $ws17 output $DISP1
workspace $ws18 output $DISP1
workspace $ws19 output $DISP1
workspace $ws20 output $DISP1
workspace $ws23 output $DISP1
workspace $ws24 output $DISP1

workspace $ws32 output $DISP0

workspace "monitor" output $DISP2

#Make any window on workspaces with names ending in "^" floating
for_window [workspace="\^$"] floating enable

# Client assignments to workspaces
assign [class="^Firefox$"] $ws1
assign [class="^Thunderbird$" window_role="^3pane$"] $ws2
assign [class="^Pidgin$"] $ws3
assign [class="HipChat"] $ws3
assign [class="^Clementine$"] $ws16
assign [class="^Vmware$"] $ws16
#assign [class="jetbrains-pycharm" title="(Find|Changes)"] $ws32
#assign [class="jetbrains-pycharm"] $ws8
assign [class="^nuvolaplayer"] $ws16

#### I3BAR SETTINGS ####

# left bar
bar {
    id left-bar
    tray_output $DISP0
    tray_padding 0
    output $DISP0
    status_command i3status --config ~/.i3/i3status.clock.conf
    colors {
        background          $c_dark_grey
        statusline          $c_bright_grey
        separator           $c_dark_blue
        # name              border              background          text
        focused_workspace   $c_neutral_orange   $c_bright_orange    $c_black
        active_workspace    $c_neutral_blue     $c_dark_blue        $c_white
        inactive_workspace  $c_neutral_grey     $c_dark_grey        $c_bright_grey
        urgent_workspace    $c_bright_red       $c_neutral_red      $c_white
        binding_mode        $c_neutral_aqua     $c_dark_aqua        $c_white
    }
}

# middle bar
bar {
    id right-bar
    tray_output None
    output $DISP1
    status_command i3status --config ~/.i3/i3status.conf
    colors {
        background          $c_dark_grey
        statusline          $c_bright_grey
        separator           $c_dark_blue
        # name              border              background          text
        focused_workspace   $c_neutral_orange   $c_bright_orange    $c_black
        active_workspace    $c_neutral_blue     $c_dark_blue        $c_white
        inactive_workspace  $c_neutral_grey     $c_dark_grey        $c_bright_grey
        urgent_workspace    $c_bright_red       $c_neutral_red      $c_white
        binding_mode        $c_neutral_aqua     $c_dark_aqua        $c_white
    }
}

## right bar
#bar {
#    id extra-bar
#    tray_output None
#    output $DISP2
#    colors {
#        background          $c_dark_grey
#        statusline          $c_bright_grey
#        separator           $c_dark_blue
#        # name              border              background          text
#        focused_workspace   $c_dark_yellow      $c_neutral_yellow   $c_black
#        active_workspace    $c_neutral_blue     $c_dark_blue        $c_white
#        inactive_workspace  $c_neutral_grey     $c_dark_grey        $c_bright_grey
#        urgent_workspace    $c_bright_red       $c_neutral_red      $c_white
#        binding_mode        $c_bright_red       $c_neutral_red      $c_white
#        binding_mode        $c_neutral_aqua     $c_dark_aqua        $c_white
#    }
#}


#### AUTOSTART ####

exec --no-startup-id sh ~/.fehbg
exec --no-startup-id ~/bin/start_xautolock.sh
exec --no-startup-id xmodmap ~/neo_mmk_ic.xmodmap && xset -r 135
exec --no-startup-id solaar
exec --no-startup-id pidgin
exec --no-startup-id HipChat4
exec --no-startup-id dunst
exec --no-startup-id unclutter --timeout 3 -b

#### SETTINGS FOR SPECIFIC WINDOWS ####

for_window [class="^rdesktop$"] floating enable
for_window [class="^xfreerdp"] floating enable
for_window [title="^Event Tester$"] floating enable
for_window [class="jetbrains-pycharm" title="(Find|Changes)"] floating disable
for_window [title="^Add Host\(s\) or Cluster\(s\)"] floating enable
for_window [class="^nuvolaplayer"] floating enable
for_window [class="^Thunderbird" window_role="^AlarmWindow$"] floating enable, sticky enable

for_window [class="^Termite$" window_role="^floating$"] floating enable

## icons (kind of)
for_window [class="^chromium$"] title_format <span size="small"> </span>%title
for_window [class="^Firefox$"] title_format <span size="small"> </span>%title
for_window [class="^(Termite)$"] title_format <span size="small"> </span>%title
