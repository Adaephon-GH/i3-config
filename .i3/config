set $fonttype "pango:Terminus 9"
font $fonttype
# ISO 10646 = Unicode
#set $fonttype "-xos4-terminus-medium-r-normal--12-120-72-72-c-60-iso10646-1"
set $dmenufonttype -xos4-terminus-medium-r-normal--12-120-72-72-c-60-*

set $DISP0 GPU-0.DP-2
set $DISP1 GPU-0.DP-3
set $DISP2 GPU-1.DP-0


set $brightred  #ff4400
set $lightred  #ff4400
set $darkred    #5c1800
set $lightblue  #13e6f3
set $midblue    #00767e
set $darkblue   #030a82
set $black      #000000
set $white      #ffffff
set $grey2      #222222
set $grey3      #333333
set $grey8      #888888

# set colors
# name                      border      back        text    indicator
client.focused_inactive     $grey3      $midblue    $white  $midblue
client.focused              $midblue    $lightblue  $black  $midblue
client.unfocused            $grey3      $grey2      $grey8  $grey2
client.urgent               $darkred    $lightred   $white  $lightred

new_window normal 2
new_float normal 2

# Use Mouse+Mod4 to drag floating windows to their wanted position
floating_modifier Mod4

# default mode
workspace_layout stacked

# default orientation
default_orientation vertical

# automatic workspace back and forth
workspace_auto_back_and_forth yes

# hide outer borders
#hide_edge_borders vertical

# keep focus within current container 
force_focus_wrapping yes

### KEYBOARD COMMANDS ###

# split and mark
bindcode Mod4+25 split horizontal; mark lastsplit
bindcode Mod4+30 split vertical; mark lastsplit

# Fullscreen (Mod4+o)
bindcode Mod4+32 fullscreen toggle

# Global Fullscreen (Mod4+Shift+o)
bindcode Mod4+Shift+32 fullscreen toggle global

# Stacking (Mod4+,, Mod4+g)
bindcode Mod4+59 layout stacking

# Tabbed (Mod4+-, Mod4+t)
bindcode Mod4+61 layout tabbed

# Default (Mod4+:, Mod4+b)
bindcode Mod4+60 layout splitv
bindcode Mod4+Shift+60 layout toggle split

# Toggle tiling/floating of the current window (Mod4+Shift+Space)
bindcode Mod4+Shift+65 floating toggle

# Go into the tiling layer / floating layer, depending on whether
# the current window is tiling / floating (Mod4+Space)
bindcode Mod4+65 focus mode_toggle

# Hide all floating Windows
# XXX: migration script could not handle command: bind Mod4+Control+65 H

bindcode Mod4+38 [urgent="latest"] focus
bindcode Mod4+Shift+38 [urgent="oldest"] focus

# Focus child (Mod4+h), Focus parent (Mod4+z)
bindcode Mod4+33 focus parent
bindcode Mod4+47 focus child

# Focus (Mod4+g/n/r/t)
bindcode Mod4+31 focus up
bindcode Mod4+44 focus left
bindcode Mod4+45 focus down
bindcode Mod4+46 focus right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Up focus up
bindsym Mod4+Left focus left
bindsym Mod4+Down focus down
bindsym Mod4+Right focus right

# Focus window outside of current container (Mod4+Mod1+g/n/r/t)
bindcode Mod4+Mod1+31 focus parent; focus up; focus child
bindcode Mod4+Mod1+44 focus parent; focus left; focus child
bindcode Mod4+Mod1+45 focus parent; focus down; focus child
bindcode Mod4+Mod1+46 focus parent; focus right; focus child
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Mod1+Up focus parent; focus up; focus child
bindsym Mod4+Mod1+Left focus parent; focus left; focus child
bindsym Mod4+Mod1+Down focus parent; focus down; focus child
bindsym Mod4+Mod1+Right focus parent; focus right; focus child

# move to left or right output (Mod4+Control+n/t)
bindcode Mod4+Control+44 move output left
bindcode Mod4+Control+46 move output right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Control+Left move output left
bindsym Mod4+Control+Right move output right

# Move (Mod4+Shift+g/n/r/t)
bindcode Mod4+Shift+31 move up
bindcode Mod4+Shift+44 move left
bindcode Mod4+Shift+45 move down
bindcode Mod4+Shift+46 move right
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Shift+Up move up
bindsym Mod4+Shift+Left move left
bindsym Mod4+Shift+Down move down
bindsym Mod4+Shift+Right move right

# Move Container (Mod4+Mod1+Shift+g/n/r/t)
bindcode Mod5+Mod1+Shift+31 focus parent; move up; focus child
bindcode Mod4+Mod1+Shift+44 focus parent; move left; focus child
bindcode Mod4+Mod1+Shift+45 focus parent; move down; focus child
bindcode Mod4+Mod1+Shift+46 focus parent; move right; focus child
# (alternatively, you can use the cursor keys:)
bindsym Mod4+Mod1+Shift+Up focus parent; move up; focus child
bindsym Mod4+Mod1+Shift+Left focus parent; move left; focus child
bindsym Mod4+Mod1+Shift+Down focus parent; move down; focus child
bindsym Mod4+Mod1+Shift+Right focus parent; move right; focus child

# Workspaces (Mod4+1/2/…)
bindcode Mod4+10 workspace 1: INet
bindcode Mod4+11 workspace 2: Mail
bindcode Mod4+12 workspace 3: Chat
bindcode Mod4+13 workspace 4: Term
bindcode Mod4+14 workspace 5
bindcode Mod4+15 workspace 6
bindcode Mod4+16 workspace 7: Edit
bindcode Mod4+17 workspace 8: Dev
bindcode Mod4+18 workspace 9: Sys
bindcode Mod4+19 workspace 10: Term
bindcode Mod4+20 workspace 21
bindcode Mod4+21 workspace 22
bindcode Mod4+Control+10 workspace 11
bindcode Mod4+Control+11 workspace 12: Virt
bindcode Mod4+Control+12 workspace 13
bindcode Mod4+Control+13 workspace 14
bindcode Mod4+Control+14 workspace 15
bindcode Mod4+Control+15 workspace 16
bindcode Mod4+Control+16 workspace 17
bindcode Mod4+Control+17 workspace 18
bindcode Mod4+Control+18 workspace 19
bindcode Mod4+Control+19 workspace 20
bindcode Mod4+Control+20 workspace 23
bindcode Mod4+Control+21 workspace 24
bindcode Mod4+Mod1+20 workspace " "
bindcode Mod4+Mod1+21 workspace "  "

bindcode Mod4+Mod1+11 workspace "32: Dev2"
bindcode Mod4+Mod1+17 workspace "8: Dev"; workspace"32: Dev2"

# Toggle workspaces (Mod4+Tab)
bindcode Mod4+23 workspace back_and_forth
# Toggle outputs (Mod4+^)
bindcode Mod4+49 focus output right
bindcode Mod4+Shift+49 focus output left

# Cycle through workspaces (Mod4+Control+Tab, Mod4+Shift+Tab)
bindcode Mod4+Control+23 workspace next
bindcode Mod4+Shift+23 workspace prev

# Move to Workspaces
bindcode Mod4+Shift+10 move workspace 1: INet
bindcode Mod4+Shift+11 move workspace 2: Mail
bindcode Mod4+Shift+12 move workspace 3: Chat
bindcode Mod4+Shift+13 move workspace 4: Term
bindcode Mod4+Shift+14 move workspace 5
bindcode Mod4+Shift+15 move workspace 6
bindcode Mod4+Shift+16 move workspace 7: Edit
bindcode Mod4+Shift+17 move workspace 8: Dev
bindcode Mod4+Shift+18 move workspace 9: Sys
bindcode Mod4+Shift+19 move workspace 10: Term
bindcode Mod4+Shift+20 move workspace 21
bindcode Mod4+Shift+21 move workspace 22
bindcode Mod4+Control+Shift+10 move workspace 11
bindcode Mod4+Control+Shift+11 move workspace 12: Virt
bindcode Mod4+Control+Shift+12 move workspace 13
bindcode Mod4+Control+Shift+13 move workspace 14
bindcode Mod4+Control+Shift+14 move workspace 15
bindcode Mod4+Control+Shift+15 move workspace 16
bindcode Mod4+Control+Shift+16 move workspace 17
bindcode Mod4+Control+Shift+17 move workspace 18
bindcode Mod4+Control+Shift+18 move workspace 19
bindcode Mod4+Control+Shift+19 move workspace 20
bindcode Mod4+Control+Shift+20 move workspace 23
bindcode Mod4+Control+Shift+21 move workspace 24
bindcode Mod4+Mod1+Shift+20 move workspace " "
bindcode Mod4+Mod1+Shift+21 move workspace "  "

bindcode Mod4+Mod1+Shift+11 move workspace "32: Dev2"

# Scratchpad create and show
bindcode Mod4+Shift+52 move scratchpad
bindcode Mod4+52 scratchpad show

# Move the current winow to where the last split was made (Super+Alt+Shift+m)
bindcode Mod4+Mod1+Shift+58 mark movethis; move scratchpad; [con_mark="^lastsplit"] focus; [con_mark="^movethis$"] scratchpad show, floating disable

# Mode for resizing clients
mode "resize" {
    # These bindings trigger as soon as you enter the resize mode

    # Pressing left will shrink the window’s width.
    # Pressing right will grow the window’s width.
    # Pressing up will shrink the window’s height.
    # Pressing down will grow the window’s height.
    bindcode 44         resize shrink width 10 px or 10 ppt
    bindcode 31         resize grow height 10 px or 10 ppt
    bindcode 45         resize shrink height 10 px or 10 ppt
    bindcode 46         resize grow width 10 px or 10 ppt

    # same bindings, but for the arrow keys
    bindsym Left        resize shrink width 10 px or 10 ppt
    bindsym Down        resize grow height 10 px or 10 ppt
    bindsym Up          resize shrink height 10 px or 10 ppt
    bindsym Right       resize grow width 10 px or 10 ppt

    # back to normal: Enter or Escape
    bindcode 9 mode "default"
    bindcode 43 mode "default"
}
bindcode Mod4+43 mode "resize"

# Mode which deaktivates all bindings
mode "passthrough" {
    bindcode Mod4+9 mode "default"
}
bindcode Mod4+9 mode "passthrough"; exec sh -c 'sleep 2 && i3-msg mode "default"'

# Marks and Gotos for special keys on the MSNEK4000
bindcode Mod4+192 mark Fav1
bindcode 192 [con_mark="Fav1"] focus
bindcode Mod4+193 mark Fav2
bindcode 193 [con_mark="Fav2"] focus
bindcode Mod4+194 mark Fav3
bindcode 194 [con_mark="Fav3"] focus
bindcode Mod4+195 mark Fav4
bindcode 195 [con_mark="Fav4"] focus
bindcode Mod4+196 mark Fav5
bindcode 196 [con_mark="Fav5"] focus
bindcode Mod4+180 mark Browser
bindcode 180 [con_mark="Browser"] focus
bindcode Mod4+225 mark Search
bindcode 225 [con_mark="Search"] focus
bindcode Mod4+163 mark Mail
bindcode 163 [con_mark="Mail"] focus
bindcode Mod4+164 mark Star
bindcode 164 [con_mark="Star"] focus
bindcode Mod4+148 mark Calc
bindcode 148 [con_mark="Calc"] focus


# Read 1 character and mark the current window with this character (Super+m)
bindcode Mod4+58 exec --no-startup-id i3-input -F 'mark %s ' -l 1 -P 'Mark: '

# Read 1 character and go to the window with the character
bindcode Mod4+57 exec --no-startup-id i3-input -F '[con_mark="%s"] focus' -l 1 -P 'Goto: '

# Endless workspaces
bindcode Mod4+28 exec --no-startup-id i3-input -F 'workspace %s' -l 8 -P 'Workspace: '
bindcode Mod4+Shift+28 exec --no-startup-id i3-input -F 'move container to workspace %s' -l 8 -P 'Move to workspace: '

#bindcode Mod4+Mod1+36 exec i3-input -P 'i3> '
bindcode Mod4+Mod1+36 exec ~/bin/i3_run -fn "$dmenufonttype" -nb "$midblue" -nf "$white" -sb "$lightblue" -sf "$black" -p "i3-msg"

# Mod4+Enter starts a new terminal
bindcode Mod4+Shift+36 exec /usr/bin/roxterm
bindcode Mod4+36 exec /usr/bin/urxvtc

# Mod4+l starts screenlock
#bindcode Mod4+26 exec setsid xscreensaver-command -lock
bindcode Mod4+26 exec --no-startup-id setsid xautolock -locknow
bindcode Mod4+Shift+26 exec --no-startup-id xautolock -toggle

# Mod4+p starts dmenu and launches the selected application
bindcode Mod4+55 exec --no-startup-id ~/bin/emenu_run -fn "$dmenufonttype" -nb "$grey2" -nf "$grey8" -sb "$lightblue" -sf "$black" -p ">>>"

# Shutdown script
bindcode Mod4+Shift+96 exec --no-startup-id ~/bin/Shutdown.sh

# Sort windows by name (https://faq.i3wm.org/question/3189/how-can-i-sort-windows-inside-a-container-automatically/)
bindcode Mod4+Shift+43 exec --no-startup-id python ~/bin/i3/sortcontainer.py

# Toggle Mute, LowerVol, RaiseVol XF86Audio{Mute,LowerVolume,RaiseVolume} or Mod4+{End,Prior,Next} [Pulseaudio]
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && killall -SIGUSR1 i3status
bindcode Mod4+115 exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && killall -SIGUSR1 i3status
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- -5% && killall -SIGUSR1 i3status
bindcode Mod4+117 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- -5% && killall -SIGUSR1 i3status
bindsym Shift+XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- -1% && killall -SIGUSR1 i3status
bindcode Mod4+Shift+117 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- -1% && killall -SIGUSR1 i3status
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- +5% && killall -SIGUSR1 i3status
bindcode Mod4+112 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- +5% && killall -SIGUSR1 i3status
bindsym Shift+XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- +1% && killall -SIGUSR1 i3status
bindcode Mod4+Shift+112 exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -- +1% && killall -SIGUSR1 i3status

# clementine Remote control
bindsym XF86AudioPlay exec clementine_CTRL.py pause
bindsym Shift+XF86AudioPlay exec clementine_CTRL.py stop
bindsym Control+XF86AudioPlay exec clementine_CTRL.py osd
bindsym Control+XF86AudioRaiseVolume exec clementine_CTRL.py next
bindsym Control+XF86AudioLowerVolume exec clementine_CTRL.py previous

# switch keyboard layout to neo
bindcode 187 exec ~/bin/asdf

# switch keyboard layout to de
bindcode 188 exec ~/bin/uiae

# place mouse cursor in upper left corner of the window
bindcode Mod4+40 exec xdotool getactivewindow mousemove -w '%1' 0 0

# Mod4+Shift+c kills the current client
bindcode Mod4+Shift+27 kill

# Mod4+Shift+3 reloads i3 configuration
bindcode Mod4+22 reload

# Mod4+Control+Shift+r restarts i3 inplace
bindcode Mod4+Control+22 restart

# Mod4+Control+Shift+Backspace exits i3
bindcode Mod4+Control+Shift+22 exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit' -f '$dmenufonttype'"

# Workspace assignment to displays
workspace "1: INet" output $DISP0
workspace "2: Mail" output $DISP0
workspace "3: Chat" output $DISP0
workspace "4: Term" output $DISP0
workspace 5 output $DISP0
workspace 6 output $DISP0
workspace 11 output $DISP0
workspace "12: Virt" output $DISP0
workspace 13 output $DISP0
workspace 14 output $DISP0
workspace 15 output $DISP0
workspace 16 output $DISP0
workspace " " output $DISP0

workspace "7: Edit" output $DISP1
workspace "8: Dev" output $DISP1
workspace "9: Sys" output $DISP1
workspace "10: Term" output $DISP1
workspace 21 output $DISP1
workspace 22 output $DISP1
workspace 17 output $DISP1
workspace 18 output $DISP1
workspace 19 output $DISP1
workspace 20 output $DISP1
workspace 23 output $DISP1
workspace 24 output $DISP1

workspace "32: Dev2" output $DISP0

workspace "monitor" output $DISP2

for_window [class="^rdesktop$"] floating enable
for_window [class="^xfreerdp"] floating enable
for_window [title="^Event Tester$"] floating enable
for_window [class="jetbrains-pycharm" title="(Find|Changes)"] floating disable
for_window [title="^Add Host\(s\) or Cluster\(s\)"] floating enable

# Client assignments to workspaces
assign [class="^Firefox$"] 1: INet
#assign [class="^Thunderbird$"] 2: Mail
assign [class="^Pidgin$"] 3: Chat
assign [class="^Clementine$"] 16
assign [class="^Vmware$"] 12: Virt
#assign [class="jetbrains-pycharm" title="(Find|Changes)"] 32: Dev2
#assign [class="jetbrains-pycharm"] 8: Dev


# left bar
bar {
    id left-bar
    tray_output $DISP0
    output $DISP0
    status_command i3status --config ~/.i3/i3status.clock.conf
    colors {
        background $grey2
        statusline $grey8
        focused_workspace $midblue $lightblue $black
        inactive_workspace $grey3 $grey2 $grey8
        active_workspace $grey $midblue $white
        urgent_workspace $darkred $lightred $white
    }
}

# right bar
bar {
    id right-bar
    tray_output None
    output $DISP1
    status_command i3status --config ~/.i3/i3status.conf
    colors {
        background $grey2
        statusline $grey8
        focused_workspace $midblue $lightblue $black
        inactive_workspace $grey3 $grey2 $grey8
        active_workspace $grey $midblue $white
        urgent_workspace $darkred $lightred $white
    }
}

bar {
    id extra-bar
    tray_output None
    output $DISP2
    colors {
        background $grey2
        statusline $grey8
        focused_workspace $midblue $lightblue $black
        inactive_workspace $grey3 $grey2 $grey8
        active_workspace $grey $midblue $white
        urgent_workspace $darkred $lightred $white
    }
}

# Autostart applications
exec --no-startup-id sh ~/.fehbg
exec --no-startup-id ~/bin/start_xautolock.sh
exec --no-startup-id xmodmap ~/neo_mmk_ic.xmodmap && xset -r 135
exec --no-startup-id urxvtd -q -f -o
exec --no-startup-id gnome-keyring-daemon --start --components=pkcs11
exec --no-startup-id solaar

